---
title: "Okta の管理に Terraform を使うとこれだけ楽になる話"
emoji: "☘"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["Okta", "Terraform"]
published: false
---

こんにちは

世のすべての SaaS は Terraform で管理できるようになってほしいと思ってるしもしゃん([@shimosyan](https://twitter.com/shimosyan))です。

こちらは 、[Okta Advent Calendar 2021](https://adventar.org/calendars/6330) 16日目の記事となります！

今回は、先日 [Okta を Terraform と GitHub Actions を使ってコード管理するチュートリアル](https://zenn.dev/shimosyan/books/bb0ba712133779061804) で書いた Okta の管理を Terraform を使って管理しやすくする方法で「こんな使い方もできるよ！」といった Tips を紹介できたらと思います。

## Okta でミスると怖いところ、Terraform で解決したいところ

Okta と SaaS を連携しようとすると、Okta 側では Application で対象の SaaS に関する設定を行うと思います。

このとき、Okta のユーザーと Application を紐付けるときは、Application の中にある `Assignments` にユーザーもしくはグループを紐付けると思います。

特に、その SaaS が Provisioning にも対応している場合はこの `Assignments` ユーザー・グループを紐付けるときに適用するライセンスやロールを設定することができます。

おそらく、ユーザーごとに適用せずに、グループで割当をする人が多いと思いますが、このグループの割当はちょっとした罠があります。

## 準備

環境の準備は [Okta を Terraform と GitHub Actions を使ってコード管理するチュートリアル](https://zenn.dev/shimosyan/books/bb0ba712133779061804) の記事をご覧ください。
