---
title: "AzureAD ã‚’ Okta ã‹ã‚‰ SSO ã—ã¦ã„ã‚‹ã¨ãã«ä»–ç¤¾ SharePoint ã§ã‚µã‚¤ãƒ³ã‚¤ãƒ³ãƒ«ãƒ¼ãƒ—ã—ãŸã¨ãã®å¯¾å‡¦æ³•"
emoji: "ğŸ§©"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["azuread", "Okta"]
published: true
publication_name: "joug"
---

## ã¯ã˜ã‚ã«

Okta ã‚’ IdP ã¨ã—ã¦ Azure AD ã¨ãƒ•ã‚§ãƒ‡ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã— Okta ã‹ã‚‰ SSO ã§ãã‚‹ã‚ˆã†ã«ã—ã¦å–œã‚“ã§ã„ãŸã‚‰ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã€Œä»–ç¤¾ã® SharePoint Online ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ããªããªã£ãŸã‚“ã ã‘ã©â€¦ã€ã¨å•ã„åˆã‚ã›ã‚’å—ã‘ã¦å†·ã‚„æ±—ã‚’ã‹ããªãŒã‚‰å¯¾å‡¦ã—ãŸã¨ãã®å‚™å¿˜éŒ²ã¨ãªã‚Šã¾ã™ã€‚

Okta ã¨ Azure AD ã®ãƒ•ã‚§ãƒ‡ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¤ã„ã¦ã¯ã€thdy ã•ã‚“ãŒè©³ã—ã„è¨˜äº‹ã‚’æ›¸ã‹ã‚Œã¦ã„ã‚‹ã®ã§èˆˆå‘³ã‚ã‚‹æ–¹ã¯èª­ã‚“ã§ã¿ã¦ãã ã•ã„ã€‚

@[card](https://zenn.dev/thdy/articles/okta_azuread_integrations)

## ä½•ãŒèµ·ããŸã‹

å½“è©²ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã‚‚ã‚‰ã£ãŸä»–ç¤¾ SharePoint ã®ãƒªãƒ³ã‚¯ï¼ˆä¾‹ï¼š `https://[[TENANT]].sharepoint.com/sites/Accounting/Home.aspx`ï¼‰ã‚’é–‹ã„ã¦ã¿ã‚‹ã¨ã€ã‚µã‚¤ãƒ³ã‚¤ãƒ³ãƒ«ãƒ¼ãƒ—ãŒæ•°å›ç™ºç”Ÿã—æœ€å¾Œã« Microsoft ã®ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã§ã€Œã‚µã‚¤ãƒ³ã‚¤ãƒ³ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚ã€ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã—ãŸã€‚

![ã‚¨ãƒ©ãƒ¼ç”»é¢](https://storage.googleapis.com/zenn-user-upload/4efc6b539b3f88ea923c7309.png)

è©²å½“ãƒ¦ãƒ¼ã‚¶ãƒ¼ã« Office ãƒãƒ¼ã‚¿ãƒ«ã‚’é–‹ã„ã¦ã‚‚ã‚‰ã†ã¨æ­£å¸¸ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã“ã¨ã‹ã‚‰ã€Okta ã¨ Azure AD é–“ã®ãƒ•ã‚§ãƒ‡ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¯å•é¡ŒãŒãªã•ãã†ã§ã™ã€‚

## å¯¾å‡¦æ³•

è§£æ±ºæ–¹æ³•ã‚’æ¢ã—ã¦ã€Okta Help Center ã‚’ã•ã¾ã‚ˆã£ã¦ã‚‹ã¨ã€ä»¥ä¸‹ã®ã‚¹ãƒ¬ãƒƒãƒ‰ã‚’è¦‹ã¤ã‘ã¾ã—ãŸã€‚
ã“ã®æ–¹æ³•ãªã‚‰è§£æ±ºã§ããã†ã§ã™ã€‚

[How do I send users directly to a Sharepoint Online site with Okta?](https://support.okta.com/help/s/question/0D50Z00008G7VJp/how-do-i-send-users-directly-to-a-sharepoint-online-site-with-okta?language=en_US)

### 1. Okta ã® Office365 ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‹ã‚‰ PassiveLogOnUri ã‚’å–å¾—ã™ã‚‹

Okta ã® Office365 ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‹ã‚‰ã€ŒSign Onã€ã‚¿ãƒ–ã‚’é–‹ãã€ã€ŒSet Up Instructionsã€ãƒšãƒ¼ã‚¸ã‚’é–‹ãã¾ã™ã€‚

ã‚³ãƒ¼ãƒ‰å†… ã« PassiveLogOnUri ã®è¨˜è¼‰ãŒã‚ã‚‹ã®ã§ã“ã‚Œã‚’æ§ãˆã¾ã™ã€‚

![PassiveLogOnUri](https://storage.googleapis.com/zenn-user-upload/6dba2b35f981d032dcb072a5.png)

```markup
https://[[Org]].okta.com/app/office365/[[Id]]/sso/wsfed/passive
```

### 2. PassiveLogOnUri ã«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã‚’ä»˜ä¸ã™ã‚‹

å–å¾—ã—ãŸ PassiveLogOnUri ã«`?wa=wsignin1.0&wtrealm=urn:federation:MicrosoftOnline&wctx=wa%3Dwsignin1.0%26wreply%3D`ã‚’è¶³ã—ã¾ã™ã€‚

```markup
https://[[Org]].okta.com/app/office365/[[Id]]/sso/wsfed/passive?wa=wsignin1.0&wtrealm=urn:federation:MicrosoftOnline&wctx=wa%3Dwsignin1.0%26wreply%3D
```

### 3. æ¥ç¶šå…ˆã® SharePoint Online ã® URL ã‚’åŠ å·¥ã™ã‚‹

æ¥ç¶šå…ˆã® URL ï¼ˆ`https://[[TENANT]].sharepoint.com/sites/Accounting/Home.aspx`ï¼‰ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«åŠ å·¥ã—ã¾ã™ã€‚

```markup
https://[[TENANT]].sharepoint.com/_forms/default.aspx?ReturnUrl=/sites/Accounting/Home.aspx
```

æ¬¡ã«ã€ã“ã® URL ã‚’ **2å›** ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã—ã¾ã™ã€‚ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã«ã¯[ã“ã®ã‚µã‚¤ãƒˆ](https://tech-unlimited.com/urlencode.html)ã‚’ä½¿ã„ã¾ã—ãŸã€‚

```markup
https%253A%252F%252F[[TENANT]].sharepoint.com%252F_forms%252Fdefault.aspx%253FReturnUrl%253D%252Fsites%252FAccounting%252FHome.aspx
```

### 4. æ‰‹é † 2 ã® URL ã¨ã€æ‰‹é † 3 ã®æ–‡å­—åˆ—ã‚’çµåˆã™ã‚‹

ãã®ã¾ã¾ãã£ã¤ã‘ã¾ã™ã€‚

```markup
https://[[Org]].okta.com/app/office365/[[Id]]/sso/wsfed/passive?wa=wsignin1.0&wtrealm=urn:federation:MicrosoftOnline&wctx=wa%3Dwsignin1.0%26wreply%3Dhttps%3A%2F%2F%5B%5BTENANT%5D%5D.sharepoint.com%2F_forms%2Fdefault.aspx%3FReturnUrl%3D%2Fsites%2FAccounting%2FHome.aspx
```

ä»¥ä¸Šã§ã™ã€‚

ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã“ã® URL ã‚’é–‹ãã“ã¨ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‹ç¢ºèªã—ã¦ã‚‚ã‚‰ã„ã¾ã™ã€‚
ã‚¢ã‚¯ã‚»ã‚¹ãŒç¢ºèªã§ããŸã‚‰ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ãªã©ã«ç™»éŒ²ã—ã¦ã‚‚ã‚‰ã„ã¾ã—ã‚‡ã†ã€‚

## æœ€å¾Œã«

Okta ã‹ã‚‰ SSO ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã¨æ€ã£ãŸã‚‰æ€ã‚ã¬è½ã¨ã—ç©´ãŒã‚ã‚Šã¾ã—ãŸã€‚

ä»Šå›ã¯ URL ã‚’åŠ å·¥ã—ã¦ç›´æ¥é–‹ãæ–¹æ³•ã§ã—ãŸãŒã€ã‚‚ã—ã‹ã—ãŸã‚‰ Okta å†…ã®è¨­å®šã§è§£æ±ºã§ãã‚‹æ–¹æ³•ãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚
ï¼ˆæƒ…å ±å¾…ã£ã¦ã¾ã™ã€‚ï¼‰
