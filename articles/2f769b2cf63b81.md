---
title: "AzureAD を Okta から SSO しているときに他社 SharePoint Online でサインインループしたときの対処法"
emoji: "🌏"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["Azure AD", "Okta"]
published: false
---

## はじめに

Okta を IdP として Azure AD とフェデレーションし Okta から SSO できるようにして喜んでいたら、ユーザーから「他社の SharePoint Online にアクセスできなくなったんだけど…」と問い合わせを受けて冷や汗をかきながら対処したときの備忘録となります。

Okta と Azure AD のフェデレーションについては、thdy さんが詳しい記事を書かれているので興味ある方は読んでみてください。

<https://zenn.dev/thdy/articles/okta_azuread_integrations>

## 何が起きたか

当該ユーザーからもらった他社 SharePoint のリンクを開いてみると、サインインループが数回発生し最後に Microsoft のログイン画面で「サインインできませんでした。もう一度お試しください」とエラーになることを確認しました。

該当ユーザーに Office ポータルを開いてもらうと正常にアクセスできることから、Okta と Azure AD 間のフェデレーションには問題がなさそうです。
